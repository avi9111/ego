// Generated by CoffeeScript 1.12.7
(function() {
  var AccountKeyInput, React, ReactBootstrap;

  React = require('react');

  ReactBootstrap = require('react-bootstrap');

  AccountKeyInput = React.createClass({displayName: "AccountKeyInput",
    getInitialState: function() {
      return {
        value: ''
      };
    },
    IsRight: function() {
      return this.validationState() === 'success';
    },
    validationState: function() {
      var exp, exp_init, reg, reg_init, v;
      exp = /^(\d+)\:(\d+)\:(.+)$/;
      exp_init = /^init:(\w+)\:(\d+)\:(\d+)\:(.+)$/;
      if (this.refs.input == null) {
        return 'error';
      }
      v = this.refs.input.getValue();
      reg = v.match(exp);
      reg_init = v.match(exp_init);
      if (reg !== null || reg_init !== null) {
        return 'success';
      } else {
        return 'error';
      }
    },
    handleChange: function() {
      this.setState({
        value: this.refs.input.getValue()
      });
      return this.props.can_cb(this.refs.input.getValue(), this.IsRight());
    },
    render: function() {
      return React.createElement(ReactBootstrap.Input, {
        "type": 'text',
        "value": this.state.value,
        "placeholder": '请输入账号ID...',
        "help": '账号ID格式必须满足 \"X:X:XXX\"',
        "bsStyle": this.validationState(),
        "hasFeedback": true,
        "ref": 'input',
        "groupClassName": 'group-class',
        "labelClassName": 'label-class',
        "onChange": this.handleChange
      });
    }
  });

  module.exports = AccountKeyInput;

}).call(this);
