// Generated by CoffeeScript 1.12.7
(function() {
  var App, ProfileQuery, React, antd;

  antd = require('antd');

  React = require('react');

  ProfileQuery = require('../../scripts/gm_profile_query');

  ProfileQuery = ProfileQuery.ProfileQuery;

  App = React.createClass({displayName: "App",
    getInitialState: function() {
      return {
        select_server: this.props.curr_server,
        player_to_send: ""
      };
    },
    isServerRight: function() {
      return (this.state.select_server != null) && (this.state.select_server.serverName != null);
    },
    isAccountRight: function() {
      return (this.refs.accountin != null) && this.refs.accountin.IsRight();
    },
    getLoadingState: function() {
      if (!this.isServerRight() || !this.isAccountRight()) {
        return "disabled";
      }
      return '';
    },
    handleServerChange: function(data) {
      console.log(data);
      this.setState({
        select_server: data
      });
      return setTimeout(this.OnSend, 100);
    },
    handleUserChange: function(data) {
      console.log(data);
      if (data === "") {
        data = "请输入玩家Id";
      }
      return this.setState({
        player_to_send: data
      });
    },
    getServerName: function() {
      if (this.state.select_server != null) {
        return this.state.select_server.name;
      } else {
        return "";
      }
    },
    render: function() {
      return React.createElement("div", null, React.createElement(ProfileQuery, {
        "typ": "Query",
        "server": this.getServerName()
      }));
    }
  });

  module.exports = App;

}).call(this);
